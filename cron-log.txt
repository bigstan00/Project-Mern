+ SERVICE_NAME=backend
+ COMPOSE_FILE=/home/bigstan/mern-redo/docker-compose.yaml
+ MAX_INSTANCES=5
+ MIN_INSTANCES=1
+ CPU_THRESHOLD_UP=75
+ CPU_THRESHOLD_DOWN=30
+ LOG_FILE=/home/bigstan/mern-redo/backend/scale.log
+ LOG_INTERVAL=300
+ last_log_time=0
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729756803
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729756925
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757047
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757168
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757290
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ awk {print int($1)}
+ tr -d %
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757412
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757533
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ awk {print int($1)}
+ + tr -ddocker % stats
 --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757655
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757777
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757898
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758020
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758142
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758263
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758385
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758507
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758628
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                + true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729756848
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729756969
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757091
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757213
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757334
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757456
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ tr -d %
+ awk {print int($1)}
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757578
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757699
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757821
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757943
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758064
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758186
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758308
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758429
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758551
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758673
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               + true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729756920
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757041
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757163
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757285
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757406
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757528
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757650
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757771
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757893
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758015
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758136
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758258
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ tr -d %
+ + docker stats --no-streamawk --format {print int($1)} {{.CPUPerc}}
 ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758380
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ tr -d %
+ + dockerawk stats {print int($1)} --no-stream
 --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758501
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758623
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                + true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729756850
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729756971
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757093
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757215
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=2
+ total_cpu=2
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=2
+ echo 2
+ cpu_usage=2
+ date +%s
+ current_time=1729757336
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 2 -gt 75 ]
+ [ 2 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757458
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757580
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757701
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757823
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757945
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ + docker compose -f /home/bigstan/mern-redo/docker-compose.yamlwc ps -l

+ grep backend
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758066
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758188
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ awk {print int($1)}
+ tr -d %
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758310
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ wc -l
+ grep backend
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=2
+ total_cpu=2
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=2
+ echo 2
+ cpu_usage=2
+ date +%s
+ current_time=1729758431
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 2 -gt 75 ]
+ [ 2 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=1
+ total_cpu=1
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=1
+ echo 1
+ cpu_usage=1
+ date +%s
+ current_time=1729758553
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 1 -gt 75 ]
+ [ 1 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758675
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         + true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729756815
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729756937
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757059
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757180
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757302
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757424
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757545
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=2
+ total_cpu=2
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=2
+ echo 2
+ cpu_usage=2
+ date +%s
+ current_time=1729757667
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 2 -gt 75 ]
+ [ 2 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757789
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757910
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1+ 
wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758032
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758154
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758275
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758397
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758519
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758640
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       + true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729756909
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ tr -d %
+ + docker stats --no-stream --formatawk {{.CPUPerc}} {print int($1)} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1

+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757031
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757152
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ + echo No scaling action needed for backend
tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757274
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757396
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=3
+ total_cpu=3
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=3
+ echo 3
+ cpu_usage=3
+ date +%s
+ current_time=1729757517
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 3 -gt 75 ]
+ [ 3 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757639
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757761
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757882
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758004
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758126
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ grep backend
+ wc -l
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758247
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758369
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ + echo No scaling action needed for backend
tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758490
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=6
+ total_cpu=6
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=6
+ echo 6
+ cpu_usage=6
+ date +%s
+ current_time=1729758612
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 6 -gt 75 ]
+ [ 6 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            + true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729756868
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729756990
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757111
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757233
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757355
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757476
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757598
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757720
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep+  backend
wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757841
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757963
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758085
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758206
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=1
+ total_cpu=1
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=1
+ echo 1
+ cpu_usage=1
+ date +%s
+ current_time=1729758328
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 1 -gt 75 ]
+ [ 1 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758449
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ + awk {print int($1)}
tr -d %
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758571
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758693
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                + true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729756915
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=2
+ total_cpu=2
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=2
+ echo 2
+ cpu_usage=2
+ date +%s
+ current_time=1729757036
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 2 -gt 75 ]
+ [ 2 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757158
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757280
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ grep backend
+ + docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757401
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757523
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757645
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757766
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757888
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758010
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=2
+ total_cpu=2
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=2
+ echo 2
+ cpu_usage=2
+ date +%s
+ current_time=1729758131
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 2 -gt 75 ]
+ [ 2 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758253
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758375
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758496
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758618
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             + true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729756871
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729756993
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757115
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757236
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757358
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757480
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757601
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757723
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757845
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757966
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=2
+ total_cpu=2
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=2
+ echo 2
+ cpu_usage=2
+ date +%s
+ current_time=1729758088
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 2 -gt 75 ]
+ [ 2 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758210
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758331
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758453
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758575
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758696
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            + true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729756917
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757039
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757160
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757282
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757404
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757525
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757647
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757769
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757890
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758012
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758134
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d+  %
awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758255
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats+  --no-streamtr --format -d {{.CPUPerc}} % ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e

+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758377
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758499
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758620
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       + true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729756878
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729756999
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ + docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757121
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757243
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757364
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ wc -l
+ grep backend
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757486
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757608
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ + docker stats --no-stream --format {{.CPUPerc}}tr 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 -d
 %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757729
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ + echo No scaling action needed for backend
tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ awk {print int($1)}
+ tr -d %
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757851
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps+ 
grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757973
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ + awk {print int($1)}
docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758094
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758216
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758338
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758459
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758581
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=1
+ total_cpu=1
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=1
+ echo 1
+ cpu_usage=1
+ date +%s
+ current_time=1729758703
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 1 -gt 75 ]
+ [ 1 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      + true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729756906
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757028
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757150
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757272
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757393
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757515
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=3
+ total_cpu=3
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=3
+ echo 3
+ cpu_usage=3
+ date +%s
+ current_time=1729757637
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 3 -gt 75 ]
+ [ 3 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757758
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757880
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758002
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758123
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758245
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758367
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758488
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758610
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            + true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729756864
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729756986
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757107
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream+  --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757229
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757350
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757472
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757594
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757715
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757837
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757959
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ + echowc 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 -w

+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758080
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758202
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758324
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758445
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker+  compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ + docker stats --no-stream --formatawk {{.CPUPerc}} {print int($1)} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e

+ tr -d %
+ cpu_usage=1
+ total_cpu=1
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=1
+ echo 1
+ cpu_usage=1
+ date +%s
+ current_time=1729758567
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 1 -gt 75 ]
+ [ 1 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758689
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 + true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729756809
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729756931
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757053
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=1
+ total_cpu=1
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=1
+ echo 1
+ cpu_usage=1
+ date +%s
+ current_time=1729757174
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 1 -gt 75 ]
+ [ 1 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757296
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757418
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757539
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ + tr -d %
+ awk {print int($1)}
docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757661
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757783
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757904
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758026
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=1
+ total_cpu=1
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=1
+ echo 1
+ cpu_usage=1
+ date +%s
+ current_time=1729758148
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 1 -gt 75 ]
+ [ 1 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758269
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758391
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758513
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ + wc -l
grep backend
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758634
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          + true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=2
+ total_cpu=2
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=2
+ echo 2
+ cpu_usage=2
+ date +%s
+ current_time=1729756856
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 2 -gt 75 ]
+ [ 2 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729756978
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ + docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757099
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757221
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757343
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757464
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757586
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757708
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757829
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757951
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758073
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758194
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758316
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758438
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758559
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758681
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              + true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729756803
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729756925
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757048
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757169
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757291
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757413
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757535
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ grep backend
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757657
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757779
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757900
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758022
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758144
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ awk {print int($1)}
+ tr -d %
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758265
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758387
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758509
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758630
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            + true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ + awk {print int($1)}
tr -d %
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729756866
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729756988
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757109
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757231
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757352
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=1
+ total_cpu=1
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=1
+ echo 1
+ cpu_usage=1
+ date +%s
+ current_time=1729757474
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 1 -gt 75 ]
+ [ 1 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757596
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep+  backend
wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757717
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757839
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757961
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758082
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758204
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758326
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=1
+ total_cpu=1
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=1
+ echo 1
+ cpu_usage=1
+ date +%s
+ current_time=1729758447
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 1 -gt 75 ]
+ [ 1 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758569
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758691
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  + cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729756801
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729756923
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757045
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757166
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757288
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757410
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757531
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757653
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757774
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757896
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758018
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758139
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758261
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758383
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758505
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758626
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      + true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729756873
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729756995
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757117
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757238
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757360
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757482
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757603
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757725
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757847
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757968
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758090
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758212
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758333
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758455
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758577
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758698
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      + true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729756876
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729756997
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757119
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757241
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757362
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757484
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757606
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=2
+ total_cpu=2
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=2
+ echo 2
+ cpu_usage=2
+ date +%s
+ current_time=1729757727
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 2 -gt 75 ]
+ [ 2 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757849
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757971
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758092
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758214
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758336
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758457
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758579
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758701
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   + true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729756805
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=1
+ total_cpu=1
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=1
+ echo 1
+ cpu_usage=1
+ date +%s
+ current_time=1729756927
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 1 -gt 75 ]
+ [ 1 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757049
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757170
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757292
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757414
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757535
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ + wc -l
grep backend
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757657
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757779
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757901
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758024
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758146
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ wc -l
+ grep backend
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758267
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758389
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758511
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758632
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               + true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729756858
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729756980
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757101
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757223
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757345
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757466
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757588
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757710
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757831
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757953
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758075
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ + echo No scaling action needed for backend
tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758196
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758318
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ + echo No scaling action needed for backend
tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758440
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758561
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758683
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            + true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729756807
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729756929
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757051
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757172
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=1
+ total_cpu=1
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=1
+ echo 1
+ cpu_usage=1
+ date +%s
+ current_time=1729757294
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 1 -gt 75 ]
+ [ 1 -lt 30 ]
+ [ 1 -gt 1 ]
+ + echotee No scaling action needed for backend -a
 /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757416
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ + docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757537
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker+  compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757659
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757781
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757902
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758024
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758146
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ wc -l
+ grep backend
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758268
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758390
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758512
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758633
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757547
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=1
+ total_cpu=1
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=1
+ echo 1
+ cpu_usage=1
+ date +%s
+ current_time=1729757669
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 1 -gt 75 ]
+ [ 1 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757791
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757912
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f+  /home/bigstan/mern-redo/docker-compose.yaml ps
grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758034
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758156
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758277
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758399
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758521
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=3
+ total_cpu=3
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=3
+ echo 3
+ cpu_usage=3
+ date +%s
+ current_time=1729758642
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 3 -gt 75 ]
+ [ 3 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
-w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758036
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758158
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758279
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758401
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=1
+ total_cpu=1
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=1
+ echo 1
+ cpu_usage=1
+ date +%s
+ current_time=1729758523
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 1 -gt 75 ]
+ [ 1 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758644
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758160
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=2
+ total_cpu=2
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=2
+ echo 2
+ cpu_usage=2
+ date +%s
+ current_time=1729758281
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 2 -gt 75 ]
+ [ 2 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758403
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758525
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758646
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=3
+ total_cpu=3
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=3
+ echo 3
+ cpu_usage=3
+ date +%s
+ current_time=1729758191
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 3 -gt 75 ]
+ [ 3 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758313
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %+ 
awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758435
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758556
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758678
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
o/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758199
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758321
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758443
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758564
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758686
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
int int($1)} --no-stream
 --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ cpu_usage=2
+ total_cpu=2
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=2
+ echo 2
+ cpu_usage=2
+ date +%s
+ current_time=1729758221
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 2 -gt 75 ]
+ [ 2 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758343
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758464
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758586
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758708
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
d
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758219
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758341
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758462
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758585
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758707
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
r compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758217
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758340
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ + docker compose -f /home/bigstan/mern-redo/docker-compose.yaml psgrep
 backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=3
+ total_cpu=3
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=3
+ echo 3
+ cpu_usage=3
+ date +%s
+ current_time=1729758461
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 3 -gt 75 ]
+ [ 3 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758583
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml+  ps
grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758705
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757422
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757497
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757541
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757543
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757618
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757663
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757665
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757740
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757785
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757787
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757862
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ awk {print int($1)}
+ tr -d %
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757906
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757908
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729757983
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=3
+ total_cpu=3
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=3
+ echo 3
+ cpu_usage=3
+ date +%s
+ current_time=1729758028
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 3 -gt 75 ]
+ [ 3 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ [ -z 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1 ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo 5e3724f21fc3db15c8b2fa3294069d4d36164a2bcd2865dd9d0e14b44c5baee1
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758030
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ + docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758105
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ tee -a /home/bigstan/mern-redo/backend/scale.log
+ echo No scaling action needed for backend
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758150
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo+  No scaling action needed for backend
tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758152
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758227
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ + wc -l
grep backend
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758271
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker+  compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758273
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758348
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758393
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758395
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758470
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758515
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758517
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758592
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758636
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729758638
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
