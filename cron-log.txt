+ SERVICE_NAME=backend
+ COMPOSE_FILE=/home/bigstan/mern-redo/docker-compose.yaml
+ MAX_INSTANCES=5
+ MIN_INSTANCES=1
+ CPU_THRESHOLD_UP=75
+ CPU_THRESHOLD_DOWN=30
+ LOG_FILE=/home/bigstan/mern-redo/backend/scale.log
+ LOG_INTERVAL=300
+ last_log_time=0
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760404
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760525
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760647
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760769
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760890
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761012
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761134
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761255
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=2
+ total_cpu=2
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=2
+ echo 2
+ cpu_usage=2
+ date +%s
+ current_time=1729761377
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 2 -gt 75 ]
+ [ 2 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761499
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761620
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761742
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761863
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761985
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762107
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762229
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762350
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762472
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762593
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762715
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762837
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762958
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763080
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763202
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763323
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763445
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo+  No scaling action needed for backend
tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763567
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763688
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    + true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760498
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760619
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760741
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ + docker+  compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
grep backend
wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=1
+ total_cpu=1
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=1
+ echo 1
+ cpu_usage=1
+ date +%s
+ current_time=1729760862
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 1 -gt 75 ]
+ [ 1 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760984
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=3
+ total_cpu=3
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=3
+ echo 3
+ cpu_usage=3
+ date +%s
+ current_time=1729761106
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 3 -gt 75 ]
+ [ 3 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761228
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761349
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761471
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761592
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761714
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761836
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=1
+ total_cpu=1
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=1
+ echo 1
+ cpu_usage=1
+ date +%s
+ current_time=1729761958
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 1 -gt 75 ]
+ [ 1 -lt 30 ]
+ [ 1 -gt 1 ]
+ + echotee No scaling action needed for backend -a
 /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762079
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762201
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762322
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762444
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762566
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ + wcgrep -l backend

+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762687
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762809
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend+ 
wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762931
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=1
+ total_cpu=1
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=1
+ echo 1
+ cpu_usage=1
+ date +%s
+ current_time=1729763052
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 1 -gt 75 ]
+ [ 1 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763174
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763296
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763417
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763539
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763661
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       + true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760500
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760621
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760743
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760865
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=2
+ total_cpu=2
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=2
+ echo 2
+ cpu_usage=2
+ date +%s
+ current_time=1729760986
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 2 -gt 75 ]
+ [ 2 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761108
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761230
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761351
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761473
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761594
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761716
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761838
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761960
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762081
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762203
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762324
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762446
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762568
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762689
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762811
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=1
+ total_cpu=1
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=1
+ echo 1
+ cpu_usage=1
+ date +%s
+ current_time=1729762933
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 1 -gt 75 ]
+ [ 1 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763054
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ + echo No scaling action needed for backend
tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763176
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763298
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f+  /home/bigstan/mern-redo/docker-compose.yaml ps
grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=2
+ total_cpu=2
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=2
+ echo 2
+ cpu_usage=2
+ date +%s
+ current_time=1729763419
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 2 -gt 75 ]
+ [ 2 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763541
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763663
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           + true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760466
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760588
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760710
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ + wc -wecho
 ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760831
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=1
+ total_cpu=1
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=1
+ echo 1
+ cpu_usage=1
+ date +%s
+ current_time=1729760953
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 1 -gt 75 ]
+ [ 1 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761075
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=2
+ total_cpu=2
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=2
+ echo 2
+ cpu_usage=2
+ date +%s
+ current_time=1729761196
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 2 -gt 75 ]
+ [ 2 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761318
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761440
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ + grep backend
wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761561
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761683
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761805
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761926
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=4
+ total_cpu=4
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=4
+ echo 4
+ cpu_usage=4
+ date +%s
+ current_time=1729762048
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 4 -gt 75 ]
+ [ 4 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762170
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762291
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762413
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762535
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762656
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762778
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762900
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763021
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763143
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763264
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763386
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763508
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763630
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               + true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760437
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760559
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760680
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760802
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760924
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=3
+ total_cpu=3
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=3
+ echo 3
+ cpu_usage=3
+ date +%s
+ current_time=1729761045
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 3 -gt 75 ]
+ [ 3 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761167
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761289
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761410
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761532
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761654
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761775
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761897
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762019
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762140
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762262
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ + echo No scaling action needed for backend
tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762384
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762505
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762627
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762748
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762870
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762992
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763113
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763235
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763357
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763478
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=3
+ total_cpu=3
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=3
+ echo 3
+ cpu_usage=3
+ date +%s
+ current_time=1729763600
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 3 -gt 75 ]
+ [ 3 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763722
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    + true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ wc -l
+ grep backend
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=1
+ total_cpu=1
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=1
+ echo 1
+ cpu_usage=1
+ date +%s
+ current_time=1729760518
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 1 -gt 75 ]
+ [ 1 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760639
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760761
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760883
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761004
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761126
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761248
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761369
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761491
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761613
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761734
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761856
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=3
+ total_cpu=3
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=3
+ echo 3
+ cpu_usage=3
+ date +%s
+ current_time=1729761978
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 3 -gt 75 ]
+ [ 3 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762099
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762221
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762343
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762464
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762586
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762708
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762829
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream+  --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762951
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763073
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763194
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763316
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763438
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763559
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ + dockertr stats -d --no-stream % --format
 {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763681
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        + true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=1
+ total_cpu=1
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=1
+ echo 1
+ cpu_usage=1
+ date +%s
+ current_time=1729760443
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 1 -gt 75 ]
+ [ 1 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=2
+ total_cpu=2
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=2
+ echo 2
+ cpu_usage=2
+ date +%s
+ current_time=1729760565
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 2 -gt 75 ]
+ [ 2 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760686
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ awk {print int($1)}
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760808
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760930
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761051
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761173
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761295
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761416
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose+  -f /home/bigstan/mern-redo/docker-compose.yaml ps
grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=1
+ total_cpu=1
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=1
+ echo 1
+ cpu_usage=1
+ date +%s
+ current_time=1729761538
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 1 -gt 75 ]
+ [ 1 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761660
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761781
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761903
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762025
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762146
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762268
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762389
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ wc -l
+ grep backend
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762511
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=1
+ total_cpu=1
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=1
+ echo 1
+ cpu_usage=1
+ date +%s
+ current_time=1729762633
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 1 -gt 75 ]
+ [ 1 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762754
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762876
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762998
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=2
+ total_cpu=2
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=2
+ echo 2
+ cpu_usage=2
+ date +%s
+ current_time=1729763119
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 2 -gt 75 ]
+ [ 2 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763241
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763363
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763484
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763606
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=1
+ total_cpu=1
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=1
+ echo 1
+ cpu_usage=1
+ date +%s
+ current_time=1729763728
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 1 -gt 75 ]
+ [ 1 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     + true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760521
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760643
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760765
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760886
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761008
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761129
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761251
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761373
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761494
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761616
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761738
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761859
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761981
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762103
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762224
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762346
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=1
+ total_cpu=1
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=1
+ echo 1
+ cpu_usage=1
+ date +%s
+ current_time=1729762468
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 1 -gt 75 ]
+ [ 1 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml+  ps
grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762589
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762711
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762833
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762954
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763076
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763198
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763319
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763441
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763563
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763684
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    + true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=3
+ total_cpu=3
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=3
+ echo 3
+ cpu_usage=3
+ date +%s
+ current_time=1729760445
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 3 -gt 75 ]
+ [ 3 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760567
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760689
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760810
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760932
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761054
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761175
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761297
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761419
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761540
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761662
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761784
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761905
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ + echowc -w
 ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762027
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762148
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762270
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762392
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762513
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762635
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762757
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=2
+ total_cpu=2
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=2
+ echo 2
+ cpu_usage=2
+ date +%s
+ current_time=1729762878
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 2 -gt 75 ]
+ [ 2 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763000
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763122
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763243
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ + echotee No scaling action needed for backend -a
 /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763365
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763487
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ + grep backend
wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763608
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763730
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
ompose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760529
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760651
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=1
+ total_cpu=1
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=1
+ echo 1
+ cpu_usage=1
+ date +%s
+ current_time=1729760773
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 1 -gt 75 ]
+ [ 1 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760894
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=3
+ total_cpu=3
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=3
+ echo 3
+ cpu_usage=3
+ date +%s
+ current_time=1729761016
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 3 -gt 75 ]
+ [ 3 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761138
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761259
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761381
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761503
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761624
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761746
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761868
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ + grep backend
wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761989
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762111
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762233
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend+ 
wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762354
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo+  No scaling action needed for backend
tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762476
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762598
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762719
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762841
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=1
+ total_cpu=1
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=1
+ echo 1
+ cpu_usage=1
+ date +%s
+ current_time=1729762962
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 1 -gt 75 ]
+ [ 1 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763084
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763206
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763327
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763449
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763571
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763692
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              + true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760435
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760557
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760678
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760800
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760922
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761043
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761165
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=2
+ total_cpu=2
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=2
+ echo 2
+ cpu_usage=2
+ date +%s
+ current_time=1729761286
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 2 -gt 75 ]
+ [ 2 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ wc -w
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761408
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ tee -a /home/bigstan/mern-redo/backend/scale.log
+ echo No scaling action needed for backend
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761530
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761651
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761773
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761895
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762016
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762138
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762260
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762381
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762503
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762625
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762746
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762868
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762990
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763111
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763233
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763355
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763476
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763598
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763720
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
                                                                                                                                                                                    + true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760514
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760635
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760757
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760879
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761000
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761122
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761244
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761365
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761487
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761609
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761730
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761852
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761974
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762095
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762217
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762339
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762460
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762582
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762704
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762825
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762947
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763068
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763190
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763312
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763433
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763555
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763677
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             + true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760506
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760627
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760749
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760871
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760992
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761114
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ + docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761236
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=1
+ total_cpu=1
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=1
+ echo 1
+ cpu_usage=1
+ date +%s
+ current_time=1729761357
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 1 -gt 75 ]
+ [ 1 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761479
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761601
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761722
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761844
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761966
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762087
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762209
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762331
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762452
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ + grep backend
wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762574
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762696
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762817
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=2
+ total_cpu=2
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=2
+ echo 2
+ cpu_usage=2
+ date +%s
+ current_time=1729762939
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 2 -gt 75 ]
+ [ 2 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763061
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763182
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763304
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763426
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=1
+ total_cpu=1
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=1
+ echo 1
+ cpu_usage=1
+ date +%s
+ current_time=1729763547
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 1 -gt 75 ]
+ [ 1 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763669
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            + true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760516
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=1
+ total_cpu=1
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=1
+ echo 1
+ cpu_usage=1
+ date +%s
+ current_time=1729760637
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 1 -gt 75 ]
+ [ 1 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose+  -f /home/bigstan/mern-redo/docker-compose.yaml ps
grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760759
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760881
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761002
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761124
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ awk {print int($1)}
+ tr -d %
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761246
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761367
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761489
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761611
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=1
+ total_cpu=1
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=1
+ echo 1
+ cpu_usage=1
+ date +%s
+ current_time=1729761732
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 1 -gt 75 ]
+ [ 1 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761854
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761976
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=2
+ total_cpu=2
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=2
+ echo 2
+ cpu_usage=2
+ date +%s
+ current_time=1729762097
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 2 -gt 75 ]
+ [ 2 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762219
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762341
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762462
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762584
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762706
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=1
+ total_cpu=1
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=1
+ echo 1
+ cpu_usage=1
+ date +%s
+ current_time=1729762827
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 1 -gt 75 ]
+ [ 1 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762949
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763071
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763192
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763314
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763436
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763557
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763679
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ + echo No scaling action needed for backendtee
 -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                + cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760402
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760523
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760645
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760767
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760888
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761010
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761132
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761253
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761375
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=3
+ total_cpu=3
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=3
+ echo 3
+ cpu_usage=3
+ date +%s
+ current_time=1729761496
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 3 -gt 75 ]
+ [ 3 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761618
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761740
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761861
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761983
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762105
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose+  -f /home/bigstan/mern-redo/docker-compose.yaml ps
grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762226
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762348
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend+ 
tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762470
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762591
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762713
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762835
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ + echo No scaling action needed for backend
tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762956
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763078
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763200
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763321
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=1
+ total_cpu=1
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=1
+ echo 1
+ cpu_usage=1
+ date +%s
+ current_time=1729763443
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 1 -gt 75 ]
+ [ 1 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763565
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763686
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
              + true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760405
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760527
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760649
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760771
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=1
+ total_cpu=1
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=1
+ echo 1
+ cpu_usage=1
+ date +%s
+ current_time=1729760892
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 1 -gt 75 ]
+ [ 1 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761014
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=3
+ total_cpu=3
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=3
+ echo 3
+ cpu_usage=3
+ date +%s
+ current_time=1729761136
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 3 -gt 75 ]
+ [ 3 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761257
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761379
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761501
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ + tr -d %
awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761622
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761744
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ wc -w
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761866
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761987
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762109
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762231
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762352
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762474
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762596
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762717
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762839
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762960
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo+  No scaling action needed for backend
tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763082
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763204
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763325
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763447
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763569
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=2
+ total_cpu=2
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=2
+ echo 2
+ cpu_usage=2
+ date +%s
+ current_time=1729763690
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 2 -gt 75 ]
+ [ 2 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    + true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760508
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760630
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760751
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760873
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760995
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo+  No scaling action needed for backend
tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761116
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=1
+ total_cpu=1
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=1
+ echo 1
+ cpu_usage=1
+ date +%s
+ current_time=1729761238
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 1 -gt 75 ]
+ [ 1 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761359
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761481
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761603
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761724
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761846
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761968
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762089
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762211
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=1
+ total_cpu=1
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=1
+ echo 1
+ cpu_usage=1
+ date +%s
+ current_time=1729762333
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 1 -gt 75 ]
+ [ 1 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762454
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762576
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762698
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762819
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762941
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ wc -w
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763063
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763184
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763306
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763428
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763549
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763671
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  + true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760468
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo+  No scaling action needed for backend
tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760590
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760712
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760833
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760955
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761077
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761198
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761320
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761442
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761563
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761685
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo+  No scaling action needed for backend
tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761807
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761928
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762050
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762172
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762293
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762415
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762537
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762658
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762780
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762902
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo+  ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763023
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ + tr -d %docker
 stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763145
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763267
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763388
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=2
+ total_cpu=2
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=2
+ echo 2
+ cpu_usage=2
+ date +%s
+ current_time=1729763510
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 2 -gt 75 ]
+ [ 2 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763632
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
-w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763025
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763147
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763269
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763390
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763512
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763634
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=2
+ echo 2
+ cpu_usage=2
+ date +%s
+ current_time=1729763149
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 2 -gt 75 ]
+ [ 2 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763271
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763392
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ + grep backend
wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763514
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763636
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=3
+ total_cpu=3
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=3
+ echo 3
+ cpu_usage=3
+ date +%s
+ current_time=1729763179
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 3 -gt 75 ]
+ [ 3 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763301
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763423
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763544
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763666
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
o/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763187
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763309
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763430
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ + echo No scaling action needed for backend
tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763552
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763674
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
at {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763212
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763334
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763455
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763577
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763699
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
d
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d+ awk {print int($1)}
 %
+ cpu_usage=1
+ total_cpu=1
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=1
+ echo 1
+ cpu_usage=1
+ date +%s
+ current_time=1729763210
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 1 -gt 75 ]
+ [ 1 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763332
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763453
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763575
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763696
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
r compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763208
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ + echo No scaling action needed for backend
tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=2
+ total_cpu=2
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=2
+ echo 2
+ cpu_usage=2
+ date +%s
+ current_time=1729763329
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 2 -gt 75 ]
+ [ 2 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763451
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763573
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763694
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762046
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762120
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762168
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762241
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762289
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ tr -d %
+ + awk {print int($1)}
docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762363
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762411
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762485
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ + grep backend
wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762533
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762607
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762654
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=2
+ total_cpu=2
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=2
+ echo 2
+ cpu_usage=2
+ date +%s
+ current_time=1729762728
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 2 -gt 75 ]
+ [ 2 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762776
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762850
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762897
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762971
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763019
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763093
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763141
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763215
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763262
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763336
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763384
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763458
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763506
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763580
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ grep backend
+ + docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763627
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729763701
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
