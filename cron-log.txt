+ SERVICE_NAME=backend
+ COMPOSE_FILE=/home/bigstan/mern-redo/docker-compose.yaml
+ MAX_INSTANCES=5
+ MIN_INSTANCES=1
+ CPU_THRESHOLD_UP=75
+ CPU_THRESHOLD_DOWN=30
+ LOG_FILE=/home/bigstan/mern-redo/backend/scale.log
+ LOG_INTERVAL=300
+ last_log_time=0
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760404
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760525
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760647
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760769
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760890
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761012
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761134
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761255
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=2
+ total_cpu=2
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=2
+ echo 2
+ cpu_usage=2
+ date +%s
+ current_time=1729761377
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 2 -gt 75 ]
+ [ 2 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761499
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761620
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761742
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761863
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761985
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                + true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760498
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760619
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760741
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ + docker+  compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
grep backend
wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=1
+ total_cpu=1
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=1
+ echo 1
+ cpu_usage=1
+ date +%s
+ current_time=1729760862
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 1 -gt 75 ]
+ [ 1 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760984
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=3
+ total_cpu=3
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=3
+ echo 3
+ cpu_usage=3
+ date +%s
+ current_time=1729761106
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 3 -gt 75 ]
+ [ 3 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761228
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761349
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761471
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761592
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761714
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761836
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=1
+ total_cpu=1
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=1
+ echo 1
+ cpu_usage=1
+ date +%s
+ current_time=1729761958
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 1 -gt 75 ]
+ [ 1 -lt 30 ]
+ [ 1 -gt 1 ]
+ + echotee No scaling action needed for backend -a
 /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   + true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760500
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760621
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760743
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760865
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=2
+ total_cpu=2
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=2
+ echo 2
+ cpu_usage=2
+ date +%s
+ current_time=1729760986
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 2 -gt 75 ]
+ [ 2 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761108
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761230
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761351
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761473
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761594
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761716
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761838
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761960
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       + true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760466
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760588
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760710
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ + wc -wecho
 ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760831
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=1
+ total_cpu=1
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=1
+ echo 1
+ cpu_usage=1
+ date +%s
+ current_time=1729760953
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 1 -gt 75 ]
+ [ 1 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761075
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=2
+ total_cpu=2
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=2
+ echo 2
+ cpu_usage=2
+ date +%s
+ current_time=1729761196
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 2 -gt 75 ]
+ [ 2 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761318
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761440
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ + grep backend
wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761561
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761683
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761805
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761926
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=4
+ total_cpu=4
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=4
+ echo 4
+ cpu_usage=4
+ date +%s
+ current_time=1729762048
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 4 -gt 75 ]
+ [ 4 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 + true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760437
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760559
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760680
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760802
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760924
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=3
+ total_cpu=3
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=3
+ echo 3
+ cpu_usage=3
+ date +%s
+ current_time=1729761045
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 3 -gt 75 ]
+ [ 3 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761167
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761289
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761410
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761532
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761654
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761775
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761897
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762019
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                + true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ wc -l
+ grep backend
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=1
+ total_cpu=1
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=1
+ echo 1
+ cpu_usage=1
+ date +%s
+ current_time=1729760518
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 1 -gt 75 ]
+ [ 1 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760639
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760761
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760883
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761004
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761126
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761248
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761369
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761491
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761613
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761734
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761856
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=3
+ total_cpu=3
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=3
+ echo 3
+ cpu_usage=3
+ date +%s
+ current_time=1729761978
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 3 -gt 75 ]
+ [ 3 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    + true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=1
+ total_cpu=1
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=1
+ echo 1
+ cpu_usage=1
+ date +%s
+ current_time=1729760443
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 1 -gt 75 ]
+ [ 1 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=2
+ total_cpu=2
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=2
+ echo 2
+ cpu_usage=2
+ date +%s
+ current_time=1729760565
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 2 -gt 75 ]
+ [ 2 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760686
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ awk {print int($1)}
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760808
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760930
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761051
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761173
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761295
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761416
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose+  -f /home/bigstan/mern-redo/docker-compose.yaml ps
grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=1
+ total_cpu=1
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=1
+ echo 1
+ cpu_usage=1
+ date +%s
+ current_time=1729761538
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 1 -gt 75 ]
+ [ 1 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761660
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761781
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761903
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762025
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 + true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760521
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760643
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760765
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760886
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761008
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761129
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761251
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761373
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761494
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761616
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761738
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761859
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761981
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                + true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=3
+ total_cpu=3
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=3
+ echo 3
+ cpu_usage=3
+ date +%s
+ current_time=1729760445
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 3 -gt 75 ]
+ [ 3 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760567
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760689
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760810
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760932
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761054
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761175
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761297
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761419
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761540
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761662
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761784
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761905
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ + echowc -w
 ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762027
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 + true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760407
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760529
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760651
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=1
+ total_cpu=1
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=1
+ echo 1
+ cpu_usage=1
+ date +%s
+ current_time=1729760773
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 1 -gt 75 ]
+ [ 1 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760894
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=3
+ total_cpu=3
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=3
+ echo 3
+ cpu_usage=3
+ date +%s
+ current_time=1729761016
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 3 -gt 75 ]
+ [ 3 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761138
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761259
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761381
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761503
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761624
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761746
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761868
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ + grep backend
wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761989
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          + true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760435
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760557
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760678
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760800
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760922
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761043
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761165
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=2
+ total_cpu=2
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=2
+ echo 2
+ cpu_usage=2
+ date +%s
+ current_time=1729761286
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 2 -gt 75 ]
+ [ 2 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ wc -w
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761408
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ tee -a /home/bigstan/mern-redo/backend/scale.log
+ echo No scaling action needed for backend
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761530
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761651
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761773
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761895
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762016
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                + true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760514
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760635
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760757
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760879
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761000
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761122
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761244
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761365
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761487
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761609
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761730
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761852
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761974
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         + true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760506
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760627
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760749
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760871
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760992
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761114
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ + docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761236
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=1
+ total_cpu=1
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=1
+ echo 1
+ cpu_usage=1
+ date +%s
+ current_time=1729761357
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 1 -gt 75 ]
+ [ 1 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761479
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761601
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761722
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761844
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761966
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        + true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760516
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=1
+ total_cpu=1
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=1
+ echo 1
+ cpu_usage=1
+ date +%s
+ current_time=1729760637
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 1 -gt 75 ]
+ [ 1 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose+  -f /home/bigstan/mern-redo/docker-compose.yaml ps
grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760759
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760881
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761002
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761124
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ awk {print int($1)}
+ tr -d %
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761246
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761367
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761489
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761611
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=1
+ total_cpu=1
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=1
+ echo 1
+ cpu_usage=1
+ date +%s
+ current_time=1729761732
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 1 -gt 75 ]
+ [ 1 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761854
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761976
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            + cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760402
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760523
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760645
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760767
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760888
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761010
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761132
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761253
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761375
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=3
+ total_cpu=3
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=3
+ echo 3
+ cpu_usage=3
+ date +%s
+ current_time=1729761496
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 3 -gt 75 ]
+ [ 3 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761618
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761740
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761861
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761983
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          + true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760405
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760527
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760649
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760771
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=1
+ total_cpu=1
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=1
+ echo 1
+ cpu_usage=1
+ date +%s
+ current_time=1729760892
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 1 -gt 75 ]
+ [ 1 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761014
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=3
+ total_cpu=3
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=3
+ echo 3
+ cpu_usage=3
+ date +%s
+ current_time=1729761136
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 3 -gt 75 ]
+ [ 3 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761257
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761379
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761501
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ + tr -d %
awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761622
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761744
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ wc -w
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761866
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761987
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                + true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760508
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760630
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760751
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760873
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760995
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo+  No scaling action needed for backend
tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761116
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=1
+ total_cpu=1
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=1
+ echo 1
+ cpu_usage=1
+ date +%s
+ current_time=1729761238
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 1 -gt 75 ]
+ [ 1 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761359
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761481
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761603
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761724
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761846
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761968
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              + true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760468
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo+  No scaling action needed for backend
tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760590
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760712
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760833
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729760955
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761077
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761198
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761320
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761442
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761563
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761685
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo+  No scaling action needed for backend
tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761807
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761928
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762050
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
-w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761444
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761565
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761687
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761809
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761930
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762052
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761567
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761689
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761811
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761932
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762054
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761598
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761720
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761841
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761963
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
o/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761484
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761606
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761727
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761849
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ + echo No scaling action needed for backend
tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761970
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
at {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761508
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761629
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761751
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761873
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761994
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
d
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761506
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=1
+ total_cpu=1
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=1
+ echo 1
+ cpu_usage=1
+ date +%s
+ current_time=1729761627
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 1 -gt 75 ]
+ [ 1 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761749
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761871
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761992
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
r compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761505
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761626
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761748
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761870
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761991
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761194
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761268
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=3
+ total_cpu=3
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=3
+ echo 3
+ cpu_usage=3
+ date +%s
+ current_time=1729761316
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 3 -gt 75 ]
+ [ 3 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761390
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ grep backend
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761438
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761512
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761559
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761633
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761681
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761755
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ tr -d %
+ awk {print int($1)}
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761803
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ + echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761877
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761924
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729761998
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=1
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ [ -z ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e ]
+ total_cpu=0
+ docker stats --no-stream --format {{.CPUPerc}} ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ tr -d %
+ awk {print int($1)}
+ cpu_usage=0
+ total_cpu=0
+ echo ca2803093ce2e21f595d5503e7106e5cf565caf29da22f14bd82fc13f8b7b20e
+ wc -w
+ num_containers=1
+ average_cpu=0
+ echo 0
+ cpu_usage=0
+ date +%s
+ current_time=1729762046
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 1 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
